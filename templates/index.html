{# Soundboard Homepage template #}

<!DOCTYPE html>
<html lang="en-GB">

<head>
    <meta charset="UTF-8">
    <meta name="Discord Soundboard">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

    <title>Discord Soundboard</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.1/Sortable.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" />

    {# Remember that static files must be located from the static/ path! #}
    <link rel="shortcut icon" href="../static/favicon.ico">
    <link rel="stylesheet" href="../static/style.css">
    <link rel="stylesheet" href="../static/contextMenu/contextMenu.css">

    <script type="module" src="../static/soundboard.js" defer></script>
</head>

<body>

{% with errors = get_flashed_messages(category_filter=["error"]) %}
{% if errors %}
<div id="messageContainer">
    {% for error in errors %}
    <div class="alert alert-danger" role="alert">
        <b>Error:</b> {{ error }}
    </div>
    {% endfor %}
</div>
{% endif %}
{% endwith %}


<h1>The ultimate Discord Soundboard</h1>

<div id="headerControls">
    <button id="playAllButton" type="button" class="btn btn-primary">The nuclear option</button>
    <button id="stopButton" type="button" class="btn btn-danger">Stop the insanity</button>
    <button id="sortUnlockButton" type="button" class="btn btn-primary">Unlock Order</button>
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#uploadDialog">Upload</button>
</div>

<div id="soundboard">
    <div class="soundContainer">
        <h2>Favorites</h2>
        <div id="favorites"></div>
    </div>
    <div class="soundContainer">
        <h2>Remainder</h2>
        <div id="remainder">
        </div>
    </div>
</div>

<div class="modal fade" id="uploadDialog" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form enctype="multipart/form-data" action="upload" method="post">
                <div class="modal-header">
                    <h1 class="modal-title fs-5">Upload clip</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div>
                        <input class="form-control" type="file" name="file" accept=".flac,.mp3,.ogg,.mp4" id="formFile">
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="submitUpload" type="submit" class="btn btn-primary">Upload</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="uploadImageDialog" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form>
                <div class="modal-header">
                    <h1 class="modal-title fs-5">Upload image</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div>
                        <input id="trackImage" class="form-control" type="file" name="file" accept=".png,.jpg,.svg">
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="submitImageUpload" type="submit" class="btn btn-primary">Upload</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="renameTrackDialog" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form>
                <div class="modal-header">
                    <h1 class="modal-title fs-5">Set new name</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div>
                        <label for="trackName">New name:</label>
                        <input id="trackName" class="form-control" type="text" name="trackName">
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="submitTrackName" type="submit" class="btn btn-primary">Rename</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div id="contextMenu" hidden>
    <div id="uploadImage" class="item" data-bs-toggle="modal" data-bs-target="#uploadImageDialog">
        <i class="fa-regular fa-image"></i>
        Upload image
    </div>
    <div id="renameTrack" class="item" data-bs-toggle="modal" data-bs-target="#renameTrackDialog">
        <i class="fa-solid fa-pen"></i>
        Rename Track
    </div>
    <div id="deleteTrack" class="item">
        <i class="fa-solid fa-trash"></i>
        Delete track
    </div>
</div>

</body>
</html>